#!/bin/sh -e
#  mount disk

lsblk -Pbo name,type,size,mountpoint,fstype,label | while read -r a; do
	eval "$a"

	[ "$FSTYPE" ] && [ ! "$MOUNTPOINT" ] &&
		printf "%-4s - %s %s %s\n" \
		"$NAME" \
		"$(numfmt --to=iec "$SIZE")" \
		"$FSTYPE," \
		"$LABEL"

done | {
	disk=$(menu -p mount) disk=${disk%% *}
	mkdir -p "$HOME/dev/$disk"
	sudo mount "/dev/$disk" "$HOME/dev/$disk" -o "umask=000"
	notify-send "mounted $disk"
}
